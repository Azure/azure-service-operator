// If you want to run as a non-root user in the container, see .devcontainer/docker-compose.yml.
{
    "name": "ASO",
	  "dockerFile": "Dockerfile",
    "runArgs": [ "--cap-add=SYS_PTRACE", "--security-opt", "seccomp=unconfined" ],
    
    "settings": {
      "terminal.integrated.shell.linux": "/bin/bash",
      "go.gopath": "/go",
      "go.useLanguageServer": true
    },
    
    "mounts": [
      "source=/var/run/docker.sock,target=/var/run/docker-host.sock,type=bind",
      "source=${env:HOME}${env:USERPROFILE}/.kube,target=/usr/local/share/kube-localhost,type=bind"
      // Uncomment the next line to also sync certs in your .minikube folder
      // "source=${env:HOME}${env:USERPROFILE}/.minikube,target=/usr/local/share/minikube-localhost,type=bind"
    ],
    
    "extensions": [
      "ms-vscode.go",
      "ms-vscode.azurecli",
      "ms-azuretools.vscode-docker",
      "ms-kubernetes-tools.vscode-kubernetes-tools"
    ],
    
    "remoteEnv": {
      "SYNC_LOCALHOST_KUBECONFIG": "true",
      "AZURE_CLIENT_ID": "462dd9fb-3c3b-4f08-b97d-32c722e1277d",
      "AZURE_CLIENT_SECRET": "669804bd-a1fc-4f6f-843f-9473bb44eea0",
      "AZURE_SUBSCRIPTION_ID": "7060bca0-7a3c-44bd-b54c-4bb1e9facfac",
      "AZURE_TENANT_ID": "72f988bf-86f1-41af-91ab-2d7cd011db47"
    },
    
    "overrideCommand": false,

    // Cannot run as non-root user because the manager binds to port 443
    // "remoteUser": "vscode"
}