apiVersion: documentdb.azure.com/v1api20240815
kind: MongodbUserDefinition
metadata:
  name: sample-mongodb-userdefinition
  namespace: default
spec:
  userName: sample-mongodb-user
  databaseName: sample-mongodb-database
  azureName: sample-mongodb-database.sample-mongodb-user
  owner:
    name: sample-mongodb
  password: # This is the name/key of a Kubernetes secret in the same namespace
    name: server-admin-pw
    key: password
  roles:
    - role: readWrite
      databaseName: sample-mongodb-database
  mechanisms: SCRAM-SHA-256
