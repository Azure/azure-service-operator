apiVersion: sql.azure.com/v1api20211101
kind: ServersAuditingSetting
metadata:
  name: aso-sample-audit
  namespace: default
  annotations: 
    # Can't be directly deleted in Azure, only by deleting the parent server
    # We can delete it from the cluster by applying this annotation, but this won't change anything in Azure.
    serviceoperator.azure.com/reconcile-policy: detach-on-delete
spec:
  owner:
    name: aso-sample-sqlserver
  state: Enabled
  storageAccountAccessKey:
    key: key1
    name: sqlstoragesecret
  storageAccountSubscriptionId: 00000000-0000-0000-0000-000000000000
  storageEndpoint: https://asotestsqlstorageref.blob.core.windows.net/
